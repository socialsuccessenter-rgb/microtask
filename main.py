import telebot
from telebot import types

# ржЖржкржирж╛рж░ рж╕ржарж┐ржХ ржмржЯрзЗрж░ ржЯрзЛржХрзЗржи
TOKEN = '8316197397:AAEL-0RFuJmC2VVM6V_1Yb5zkFoyXnY3rtU'
bot = telebot.TeleBot(TOKEN)

# ржЖржкржирж╛рж░ рж░рзЗржирзНржбрж╛рж░ ржУрзЯрзЗржм ржЕрзНржпрж╛ржк рж▓рж┐ржВржХ
WEB_APP_URL = "https://microtask-bb30.onrender.com"

@bot.message_handler(commands=['start'])
def send_welcome(message):
    user_id = message.chat.id
    
    # ржЖржХрж░рзНрж╖ржгрзАрзЯ ржПржмржВ рж░рж╣рж╕рзНржпржорзЯ рж╕рзНржмрж╛ржЧрждржо ржорзЗрж╕рзЗржЬ
    welcome_text = (
        "ЁЯМЯ **ржЖржкржирж╛рж░ ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржЖрзЯрзЗрж░ ржирждрзБржи ржпрж╛рждрзНрж░рж╛ рж╢рзБрж░рзБ рж╣рзЛржХ ржПржЦрж╛ржирзЗ!**\n\n"
        "рж╕ржмржЪрзЗрзЯрзЗ рж╕рж╣ржЬ ржПржмржВ ржЖржзрзБржирж┐ржХ ржкржжрзНржзрждрж┐рждрзЗ ржШрж░рзЗ ржмрж╕рзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕рзБржпрзЛржЧ ржирж┐рзЯрзЗ ржПрж▓рзЛ **MicroTask V33**ред ЁЯЪА\n\n"
        "ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзЗржХрзЗржирзНржбржХрзЗ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрж┐рзЯрзЗ ржирж┐ржЬрзЗржХрзЗ ржмржжрж▓рзЗ ржлрзЗрж▓рж╛рж░ рж╕ржорзЯ ржПржЦржиред ржЖржорж╛ржжрзЗрж░ ржмрж┐рж╢рзЗрж╖ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржЖржкржирж╛рж░ ржХрж╛ржЬрзЗрж░ ржЕржнрж┐ржЬрзНржЮрждрж╛ржХрзЗ ржХрж░ржмрзЗ ржЖрж░ржУ ржЖржиржирзНржжржжрж╛рзЯржХред тЬи\n\n"
        "ржирж┐ржЪрзЗрж░ ржорзНржпрж╛ржЬрж┐ржХ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбржЯрж┐ ржЖржирж▓ржХ ржХрж░рзБржи! ЁЯЧЭя╕П"
    )

    # ржЗржирж▓рж╛ржЗржи ржХрж┐ржмрзЛрж░рзНржб ржмрж╛ржЯржи рждрзИрж░рж┐
    markup = types.InlineKeyboardMarkup()
    
    # ржмрж╛ржЯржирзЗрж░ ржирж╛ржоржУ ржЖржХрж░рзНрж╖ржгрзАрзЯ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ
    dashboard_button = types.InlineKeyboardButton(
        text="ЁЯЪА ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржЖржирж▓ржХ ржХрж░рзБржи", 
        web_app=types.WebAppInfo(url=WEB_APP_URL)
    )
    
    # рж╕рж╛ржкрзЛрж░рзНржЯ ржмрж╛ржЯржи
    support_button = types.InlineKeyboardButton(
        text="ЁЯТм ржЕржлрж┐рж╕рж┐рзЯрж╛рж▓ ржХржорж┐ржЙржирж┐ржЯрж┐", 
        url="https://t.me/microtask_earnmoney"
    )
    
    markup.add(dashboard_button)
    markup.add(support_button)

    # ржорзЗрж╕рзЗржЬ рж╕рзЗржирзНржб ржХрж░рж╛
    try:
        bot.send_message(
            user_id, 
            welcome_text, 
            parse_mode="Markdown", 
            reply_markup=markup
        )
    except Exception as e:
        print(f"Error sending message: {e}")

# ржмржЯржЯрж┐ рж╕ржЪрж▓ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржкрзЛрж▓рж┐ржВ
if __name__ == "__main__":
    print("Bot is running perfectly...")
    bot.infinity_polling()
